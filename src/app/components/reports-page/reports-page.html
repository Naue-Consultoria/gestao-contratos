<!-- src/app/components/reports-page/reports-page.html -->
<!-- Header -->
<div class="page-header">
  <h1 class="page-title">Relatórios</h1>
  <div class="breadcrumb">
    <span>Home</span>
    <span class="breadcrumb-separator">/</span>
    <span>Relatórios</span>
  </div>
</div>

<!-- Relatórios Grid -->
<div class="reports-grid">
  <!-- Relatório Mensal -->
  <div class="report-type-card" [class.generating]="monthlyReport.isLoading">
    <div class="report-icon monthly">
      <i class="fas fa-calendar-alt"></i>
    </div>
    <h3 class="report-name">Relatório Mensal</h3>
    <p class="report-description">
      Resumo completo das atividades e contratos do mês atual
    </p>
    
    <div class="report-controls">
      <div class="form-group">
        <label class="filter-label">
          <i class="fas fa-users"></i>
          Cliente
        </label>
        <select 
          class="form-control" 
          [(ngModel)]="monthlyReport.clientId"
          [disabled]="monthlyReport.isLoading">
          <option value="">Selecione um cliente</option>
          <option *ngFor="let client of clients" [ngValue]="client.id.toString()">
            {{ client.name }}
          </option>
        </select>
      </div>
      
      <div class="form-group">
        <label class="filter-label">
          <i class="fas fa-file-alt"></i>
          Formato
        </label>
        <select 
          class="form-control" 
          [(ngModel)]="monthlyReport.format"
          [disabled]="monthlyReport.isLoading">
          <option value="pdf">PDF</option>
          <option value="excel">Excel</option>
        </select>
      </div>
    </div>
    
    <div class="report-actions">
      <button 
        class="btn btn-primary"
        (click)="generateMonthlyReport()"
        [disabled]="!monthlyReport.clientId || monthlyReport.isLoading">
        <i class="fas" [class.fa-download]="!monthlyReport.isLoading" [class.fa-spinner]="monthlyReport.isLoading" [class.fa-spin]="monthlyReport.isLoading"></i>
        {{ monthlyReport.isLoading ? 'Gerando...' : 'Gerar Relatório' }}
      </button>
    </div>
  </div>

  <!-- Relatório por Cliente -->
  <div class="report-type-card" [class.generating]="clientReport.isLoading">
    <div class="report-icon client">
      <i class="fas fa-users"></i>
    </div>
    <h3 class="report-name">Relatório por Cliente</h3>
    <p class="report-description">
      Análise detalhada do desempenho e contratos de um cliente
    </p>
    
    <div class="report-controls">
      <div class="form-group">
        <label class="filter-label">
          <i class="fas fa-users"></i>
          Cliente
        </label>
        <select 
          class="form-control" 
          [(ngModel)]="clientReport.clientId"
          [disabled]="clientReport.isLoading">
          <option value="">Selecione um cliente</option>
          <option *ngFor="let client of clients" [value]="client.id">
            {{ client.name }}
          </option>
        </select>
      </div>
      
      <div class="form-group">
        <label class="filter-label">
          <i class="fas fa-file-alt"></i>
          Formato
        </label>
        <select 
          class="form-control" 
          [(ngModel)]="clientReport.format"
          [disabled]="clientReport.isLoading">
          <option value="pdf">PDF</option>
          <option value="excel">Excel</option>
        </select>
      </div>
    </div>
    
    <div class="report-actions">
      <button 
        class="btn btn-primary"
        (click)="generateClientReport()"
        [disabled]="!clientReport.clientId || clientReport.isLoading">
        <i class="fas" [class.fa-download]="!clientReport.isLoading" [class.fa-spinner]="clientReport.isLoading" [class.fa-spin]="clientReport.isLoading"></i>
        {{ clientReport.isLoading ? 'Gerando...' : 'Gerar Relatório' }}
      </button>
    </div>
  </div>

  <!-- Relatório de Serviços -->
  <div class="report-type-card" [class.generating]="servicesReport.isLoading">
    <div class="report-icon services">
      <i class="fas fa-tasks"></i>
    </div>
    <h3 class="report-name">Relatório de Serviços</h3>
    <p class="report-description">
      Performance e análise dos serviços prestados
    </p>
    
    <div class="report-controls">
      <div class="form-group">
        <label class="filter-label">
          <i class="fas fa-users"></i>
          Cliente
        </label>
        <select 
          class="form-control" 
          [(ngModel)]="servicesReport.clientId"
          [disabled]="servicesReport.isLoading">
          <option value="">Selecione um cliente</option>
          <option *ngFor="let client of clients" [value]="client.id">
            {{ client.name }}
          </option>
        </select>
      </div>
      
      <div class="form-group">
        <label class="filter-label">
          <i class="fas fa-file-alt"></i>
          Formato
        </label>
        <select 
          class="form-control" 
          [(ngModel)]="servicesReport.format"
          [disabled]="servicesReport.isLoading">
          <option value="pdf">PDF</option>
          <option value="excel">Excel</option>
        </select>
      </div>
    </div>
    
    <div class="report-actions">
      <button 
        class="btn btn-primary"
        (click)="generateServicesReport()"
        [disabled]="!servicesReport.clientId || servicesReport.isLoading">
        <i class="fas" [class.fa-download]="!servicesReport.isLoading" [class.fa-spinner]="servicesReport.isLoading" [class.fa-spin]="servicesReport.isLoading"></i>
        {{ servicesReport.isLoading ? 'Gerando...' : 'Gerar Relatório' }}
      </button>
    </div>
  </div>

  <!-- Relatório Financeiro -->
  <div class="report-type-card" [class.generating]="financialReport.isLoading">
    <div class="report-icon financial">
      <i class="fas fa-chart-line"></i>
    </div>
    <h3 class="report-name">Relatório Financeiro</h3>
    <p class="report-description">
      Análise financeira completa com receitas e projeções
    </p>
    
    <div class="report-controls">
      <div class="form-group">
        <label class="filter-label">
          <i class="fas fa-users"></i>
          Cliente
        </label>
        <select 
          class="form-control" 
          [(ngModel)]="financialReport.clientId"
          [disabled]="financialReport.isLoading">
          <option value="">Selecione um cliente</option>
          <option *ngFor="let client of clients" [value]="client.id">
            {{ client.name }}
          </option>
        </select>
      </div>
      
      <div class="form-group">
        <label class="filter-label">
          <i class="fas fa-file-alt"></i>
          Formato
        </label>
        <select 
          class="form-control" 
          [(ngModel)]="financialReport.format"
          [disabled]="financialReport.isLoading">
          <option value="pdf">PDF</option>
          <option value="excel">Excel</option>
        </select>
      </div>
    </div>
    
    <div class="report-actions">
      <button 
        class="btn btn-primary"
        (click)="generateFinancialReport()"
        [disabled]="!financialReport.clientId || financialReport.isLoading">
        <i class="fas" [class.fa-download]="!financialReport.isLoading" [class.fa-spinner]="financialReport.isLoading" [class.fa-spin]="financialReport.isLoading"></i>
        {{ financialReport.isLoading ? 'Gerando...' : 'Gerar Relatório' }}
      </button>
    </div>
  </div>
</div>