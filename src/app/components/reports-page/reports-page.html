<div class="page-header">
  <h1 class="page-title">Relatórios</h1>
  <div class="breadcrumb">
    <span>Home</span>
    <span class="breadcrumb-separator">/</span>
    <span>Relatórios</span>
  </div>
</div>

<div class="reports-grid">
  <div class="report-type-card" [class.generating]="monthlyReport.isLoading">
    <div class="report-icon monthly">
      <i class="fas fa-calendar-alt"></i>
    </div>
    <h3 class="report-name">Relatório Mensal</h3>
    <p class="report-description">
      Resumo completo das atividades e contratos do mês atual.
    </p>
    
    <div class="report-controls">
      <div class="form-group">
        <label class="filter-label">
          <i class="fas fa-file-alt"></i>
          Formato
        </label>
        <select 
          class="form-control" 
          [(ngModel)]="monthlyReport.format"
          [disabled]="monthlyReport.isLoading">
          <option value="pdf">PDF</option>
          <option value="excel">Excel</option>
        </select>
      </div>
    </div>
    
    <div class="report-actions">
      <button 
        class="btn btn-primary"
        (click)="generateReport('monthly', monthlyReport)"
        [disabled]="monthlyReport.isLoading">
        <i class="fas" [class.fa-download]="!monthlyReport.isLoading" [class.fa-spinner]="monthlyReport.isLoading" [class.fa-spin]="monthlyReport.isLoading"></i>
        {{ monthlyReport.isLoading ? 'Gerando...' : 'Gerar Relatório' }}
      </button>
    </div>
  </div>

  <div class="report-type-card" [class.generating]="companyReport.isLoading">
    <div class="report-icon company">
      <i class="fas fa-building"></i>
    </div>
    <h3 class="report-name">Relatório por Empresa</h3>
    <p class="report-description">
      Análise detalhada do desempenho e contratos de uma empresa.
    </p>
    
    <div class="report-controls">
      <div class="form-group">
        <label class="filter-label">
          <i class="fas fa-building"></i>
          Empresa
        </label>
        <select 
          class="form-control" 
          [(ngModel)]="companyReport.companyId"
          [disabled]="companyReport.isLoading">
          <option value="">Selecione uma empresa</option>
          <option *ngFor="let company of companies" [value]="company.id">
            {{ company.name }}
          </option>
        </select>
      </div>
      
      <div class="form-group">
        <label class="filter-label">
          <i class="fas fa-file-alt"></i>
          Formato
        </label>
        <select 
          class="form-control" 
          [(ngModel)]="companyReport.format"
          [disabled]="companyReport.isLoading">
          <option value="pdf">PDF</option>
          <option value="excel">Excel</option>
        </select>
      </div>
    </div>
    
    <div class="report-actions">
      <button 
        class="btn btn-primary"
        (click)="generateReport('company', companyReport)"
        [disabled]="!companyReport.companyId || companyReport.isLoading">
        <i class="fas" [class.fa-download]="!companyReport.isLoading" [class.fa-spinner]="companyReport.isLoading" [class.fa-spin]="companyReport.isLoading"></i>
        {{ companyReport.isLoading ? 'Gerando...' : 'Gerar Relatório' }}
      </button>
    </div>
  </div>

  <div class="report-type-card" [class.generating]="servicesReport.isLoading">
    <div class="report-icon services">
      <i class="fas fa-tasks"></i>
    </div>
    <h3 class="report-name">Relatório de Serviços</h3>
    <p class="report-description">
      Performance e análise dos serviços prestados para a empresa.
    </p>
    
    <div class="report-controls">
      <div class="form-group">
        <label class="filter-label">
          <i class="fas fa-building"></i>
          Serviço
        </label>
        <select 
          class="form-control" 
          [(ngModel)]="servicesReport.serviceId"
          [disabled]="servicesReport.isLoading">
          <option value="">Selecione um serviço</option>
          <option *ngFor="let service of services" [value]="service.id">
            {{ service.name }}
          </option>
        </select>
      </div>
      
      <div class="form-group">
        <label class="filter-label">
          <i class="fas fa-file-alt"></i>
          Formato
        </label>
        <select 
          class="form-control" 
          [(ngModel)]="servicesReport.format"
          [disabled]="servicesReport.isLoading">
          <option value="pdf">PDF</option>
          <option value="excel">Excel</option>
        </select>
      </div>
    </div>
    
    <div class="report-actions">
      <button 
        class="btn btn-primary"
        (click)="generateReport('services', servicesReport)"
        [disabled]="!servicesReport.companyId || servicesReport.isLoading">
        <i class="fas" [class.fa-download]="!servicesReport.isLoading" [class.fa-spinner]="servicesReport.isLoading" [class.fa-spin]="servicesReport.isLoading"></i>
        {{ servicesReport.isLoading ? 'Gerando...' : 'Gerar Relatório' }}
      </button>
    </div>
  </div>

  <div class="report-type-card" [class.generating]="financialReport.isLoading">
    <div class="report-icon financial">
      <i class="fas fa-chart-line"></i>
    </div>
    <h3 class="report-name">Relatório Financeiro</h3>
    <p class="report-description">
      Análise financeira completa com receitas e projeções da empresa.
    </p>
    
    <div class="report-controls">
      <div class="form-group">
        <label class="filter-label">
          <i class="fas fa-file-alt"></i>
          Formato
        </label>
        <select 
          class="form-control" 
          [(ngModel)]="financialReport.format"
          [disabled]="financialReport.isLoading">
          <option value="pdf">PDF</option>
          <option value="excel">Excel</option>
        </select>
      </div>
    </div>
    
    <div class="report-actions">
      <button 
        class="btn btn-primary"
        (click)="generateReport('financial', financialReport)"
        [disabled]="financialReport.isLoading">
        <i class="fas" [class.fa-download]="!financialReport.isLoading" [class.fa-spinner]="financialReport.isLoading" [class.fa-spin]="financialReport.isLoading"></i>
        {{ financialReport.isLoading ? 'Gerando...' : 'Gerar Relatório' }}
      </button>
    </div>
  </div>
</div>