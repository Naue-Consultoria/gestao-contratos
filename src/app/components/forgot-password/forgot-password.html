<app-login-layout
    title="Recuperar Senha"
    primaryBtnText="Enviar Código"
    (submit)="requestReset()">

    <img src="/logoNaue.png" alt="Naue Consultoria" class="login-logo"/>

    <div *ngIf="formStage === 'request'">
        <div class="info-text">
            <i class="fas fa-info-circle"></i>
            <p>Digite seu email cadastrado e enviaremos um código para recuperar sua senha.</p>
        </div>
        <form (ngSubmit)="requestReset()" #requestForm="ngForm">
            <app-login-primary-input
                [(ngModel)]="email"
                name="email"
                type="email"
                label="Email"
                placeholder="Digite seu email cadastrado"
                required>
                </app-login-primary-input>
        </form>
        <a class="back-to-login" routerLink="/login">
            <i class="fas fa-arrow-left"></i> Voltar para o login
        </a>
    </div>

    <div *ngIf="formStage === 'validate'">
        <div class="info-text">
             <p>Verifique seu e-mail e insira o código de 6 dígitos e sua nova senha.</p>
        </div>
        <form (ngSubmit)="resetPassword()" #resetForm="ngForm">
            <div class="form-group">
                <label for="code">Código de Verificação</label>
                <input type="text" id="code" [(ngModel)]="code" name="code" class="form-control" required minlength="6" maxlength="6">
            </div>
            <div class="form-group">
                <label for="newPassword">Nova Senha</label>
                <input type="password" id="newPassword" [(ngModel)]="newPassword" name="newPassword" class="form-control" required minlength="6">
            </div>
        </form>
    </div>

</app-login-layout>