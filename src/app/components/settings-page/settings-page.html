<div class="page">
  <div class="page-header">
    <h1 class="page-title">Configurações</h1>
    <div class="breadcrumb">
      <span>Home</span>
      <span class="breadcrumb-separator">/</span>
      <span>Configurações</span>
    </div>
  </div>

  <div class="settings-layout">
    <div class="settings-sidebar">
      <nav>
        <a *ngFor="let tab of tabs" 
           href="javascript:void(0)" 
           class="nav-item" 
           [class.active]="activeTab === tab.id"
           (click)="setActiveTab(tab.id)">
          <i [class]="tab.icon + ' nav-icon'"></i>
          <span>{{ tab.label }}</span>
        </a>
      </nav>
    </div>
    
    <div class="settings-content">
      <!-- Configurações Gerais -->
      <div *ngIf="activeTab === 'general'" class="table-container">
        <h2 class="table-title mb-3">Configurações Gerais</h2>
        
        <div class="form-section">
          <h3 class="section-subtitle">Informações do Usuário</h3>
          
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">Nome</label>
              <input type="text" class="form-control" [(ngModel)]="usuario.nome" disabled>
            </div>
            
            <div class="form-group">
              <label class="form-label">Email</label>
              <input type="email" class="form-control" [(ngModel)]="usuario.email" disabled>
            </div>
          </div>
        </div>
        
        <div class="form-section">
          <h3 class="section-subtitle">Tema do Sistema</h3>
          
          <div class="form-group">
            <label class="form-label">Modo</label>
            <select class="form-control" [(ngModel)]="tema.modo" (change)="aplicarTema()">
              <option value="light">Claro</option>
              <option value="dark">Escuro</option>
              <option value="auto">Automático</option>
            </select>
          </div>
        </div>
      </div>
      
      <!-- Notificações -->
      <div *ngIf="activeTab === 'notifications'" class="table-container">
        <h2 class="table-title mb-3">Configurações de Notificações</h2>
        
        <div class="form-section">
          <h3 class="section-subtitle">Notificações por Email</h3>
          
          <div class="notification-list">
            <label class="notification-item">
              <input type="checkbox" [(ngModel)]="notificacoes.email">
              <span class="notification-text">
                <strong>Ativar notificações por email</strong>
                <small>Receber todas as notificações no email cadastrado</small>
              </span>
            </label>
          </div>
        </div>
        
        <div class="form-section">
          <h3 class="section-subtitle">Tipos de Notificação</h3>
          
          <div class="notification-list">
            <label class="notification-item">
              <input type="checkbox" [(ngModel)]="notificacoes.contratoVencendo" [disabled]="!notificacoes.email">
              <span class="notification-text">
                <strong>Contratos vencendo</strong>
                <small>Avisar quando contratos estiverem próximos do vencimento</small>
              </span>
            </label>
            
            <label class="notification-item">
              <input type="checkbox" [(ngModel)]="notificacoes.novoContrato" [disabled]="!notificacoes.email">
              <span class="notification-text">
                <strong>Novos contratos</strong>
                <small>Notificar quando novos contratos forem adicionados</small>
              </span>
            </label>
            
            <label class="notification-item">
              <input type="checkbox" [(ngModel)]="notificacoes.pagamentoPendente" [disabled]="!notificacoes.email">
              <span class="notification-text">
                <strong>Pagamentos pendentes</strong>
                <small>Lembrete de pagamentos que precisam ser realizados</small>
              </span>
            </label>
            
            <label class="notification-item">
              <input type="checkbox" [(ngModel)]="notificacoes.relatorioMensal" [disabled]="!notificacoes.email">
              <span class="notification-text">
                <strong>Relatório mensal</strong>
                <small>Receber resumo mensal de atividades</small>
              </span>
            </label>
          </div>
        </div>
        
        <button class="btn btn-primary" (click)="salvarNotificacoes()">
          <i class="fas fa-save"></i>
          Salvar Preferências
        </button>
      </div>
      
      <!-- Segurança -->
      <div *ngIf="activeTab === 'security'" class="table-container">
        <h2 class="table-title mb-3">Configurações de Segurança</h2>
        
        <div class="form-section">
          <h3 class="section-subtitle">Senha</h3>
          
          <div class="security-info">
            <div class="info-item">
              <span class="info-label">Última alteração:</span>
              <span class="info-value">{{ formatarData(seguranca.ultimaAlteracaoSenha) }}</span>
            </div>
          </div>
          
          <button class="btn btn-secondary mt-3" (click)="alterarSenha()">
            <i class="fas fa-key"></i>
            Alterar Senha
          </button>
        </div>
      </div>
    </div>
  </div>
</div>