<div class="image-upload-container">
  <label class="form-label">{{ label }}</label>
  
  <div class="upload-area" 
       [class.drag-over]="dragOver"
       [class.disabled]="disabled"
       (dragover)="onDragOver($event)"
       (dragleave)="onDragLeave($event)"
       (drop)="onDrop($event)"
       (click)="triggerFileInput()">
    
    <!-- Preview da imagem -->
    <div *ngIf="previewUrl" class="image-preview">
      <img [src]="previewUrl" alt="Preview" class="preview-image">
      <div class="image-overlay">
        <button type="button" 
                class="btn btn-sm btn-danger remove-btn"
                [disabled]="disabled || isUploading"
                (click)="removeImage(); $event.stopPropagation()">
          <i class="fas fa-trash"></i>
          Remover
        </button>
      </div>
    </div>
    
    <!-- Área de upload vazia -->
    <div *ngIf="!previewUrl" class="upload-placeholder">
      <div class="upload-icon">
        <i class="fas fa-cloud-upload-alt" *ngIf="!isUploading"></i>
        <i class="fas fa-spinner fa-spin" *ngIf="isUploading"></i>
      </div>
      <p class="upload-text" *ngIf="!isUploading">{{ placeholder }}</p>
      <p class="upload-text" *ngIf="isUploading">Enviando...</p>
      <p class="upload-hint">Arraste uma imagem aqui ou clique para selecionar</p>
      <p class="upload-formats">Formatos suportados: JPEG, PNG, GIF, WebP, SVG (máx. 5MB)</p>
    </div>
  </div>
  
  <!-- Input de arquivo oculto -->
  <input type="file" 
         #fileInput
         accept="image/*"
         (change)="onFileSelected($event)"
         style="display: none;"
         [disabled]="disabled || isUploading">
</div>